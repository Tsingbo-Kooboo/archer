// Archer:Util
// 
// @file    util.styl
// @author  firede(firede@firede.us)

@import 'config'
@import 'function'

/**
 * clearfix
 */
clearfix()
  &:after,
  &:before
    content: " "
    display: table
  &:after
    clear both

/**
 * size settings
 */
size()
  if length(arguments) == 1
    width: arguments[0]
    height: arguments[0]
  else
    width: arguments[0]
    height: arguments[1]

/**
 * no bullets
 */
no-bullet()
  list-style-image none
  list-style-type none
  margin-right 0
no-bullets()
  list-style none
  li
    no-bullet()

/**
 * retina image
 */
retina-image(path, w = auto, h = auto)
  background-image: url(path)

  media_string = hidpi()

  @media media_string
    ext = extname(path)
    path = pathjoin(dirname(path), basename(path, ext) + default_retina_suffix + ext)
    background-image: url(path)
    if w in (cover contain) and h == auto
        h = null
    background-size: w h

