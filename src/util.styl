// Archer:Util
// 
// @file    util.styl
// @author  firede(firede@firede.us)

@import 'config'
@import 'function'

/**
 * clearfix
 *
 * @see http://h5bp.com/q
 */
clearfix()
    &:after,
    &:before
        content: " "
        display: table
    &:after
        clear: both

/**
 * size settings
 */
size()
    if length(arguments) == 1
        width: arguments[0]
        height: arguments[0]
    else
        width: arguments[0]
        height: arguments[1]

/**
 * no bullets
 */
no-bullet()
    list-style-image: none
    list-style-type: none
    margin-right: 0

no-bullets()
    list-style: none
    li
        no-bullet()

/**
 * retina image
 */
retina-image(path, width = auto, height = auto, dppx = $retina_dppx)
    background-image: url(path)

    media_string = hidpi(dppx)

    @media media_string
        ext = extname(path)
        path = pathjoin(
            dirname(path),
            basename(path, ext) + $retina_suffix + ext
        )
        background-image: url(path)
        if width in (cover contain) and height == auto
            height = null
        background-size: width height

/**
 * hide text
 *
 * @see http://goo.gl/EglZN
 */
hide-text()
    color: transparent
    font: 0 / 0 a
    text-shadow: none

/**
 * ellipsis
 */
ellipsis()
    white-space: nowrap
    overflow: hidden
    text-overflow: ellipsis
